#!/bin/bash

## Force 'C' locale for package build to avoid R encoding 'bugs'.
export LC_ALL=C

echo "================================================================================"
echo " BUILD"
echo "--------------------------------------------------------------------------------"
Rscript -e 'check <- FALSE; source("src/make/make.r")'

echo "================================================================================"
echo " INSTALL"
echo "--------------------------------------------------------------------------------"
R CMD INSTALL pkg/mlr

echo "================================================================================"
echo " EXTERNAL TEST"
echo "--------------------------------------------------------------------------------"
Rscript -e 'use.package=TRUE; source("src/testsuite.r")'
##echo "================================================================================"
##echo " INTERNAL TEST"
##echo "--------------------------------------------------------------------------------"
##Rscript -e 'use.package=FALSE; source("src/testsuite.r")'
