

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tasks &mdash; mlr - Machine Learning in R</title>
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="mlr - Machine Learning in R" href="../index.html" />
    <link rel="up" title="Concepts" href="index.html" />
    <link rel="next" title="Learners" href="learner.html" />
    <link rel="prev" title="Concepts" href="index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/mlr_logo-120x64.png" alt="mlr logo"/>
        </a></p>
        <h1><a href="../index.html">mlr - Machine Learning in R</a></h1>
        <div class="rel">
          <a href="index.html" title="Concepts"
             accesskey="P">previous</a> |
          <a href="learner.html" title="Learners"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tasks">
<h1>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h1>
<p>Learning tasks are the basic element of the package to encapsulate the
data set and all relevant information regarding the purpose of the
task. This will be at least the target variable, but might also be
information about excluded (ID) variables or case weights.</p>
<p>Currently two subclasses of a <a class="reference external" href="/_static/rdocs/mlr/LearnTask-class.html">LearnTask</a> exist, <a class="reference external" href="/_static/rdocs/mlr/ClassifTask-class.html">ClassifTask</a> for
classification problems and <a class="reference external" href="/_static/rdocs/mlr/RegrTask-class.html">RegrTask</a> for regression.  A
classification task is created by using the <a class="reference external" href="/_static/rdocs/mlr/makeClassifTask.html">makeClassifTask</a> factory
method. The target variable is converted to a factor if it is a
logical, integer or character vector. Accordingly use <a class="reference external" href="/_static/rdocs/mlr/makeRegrTask.html">makeRegrTask</a>
for defining a regression task. The target variable is converted to a
numeric.</p>
<blockquote>
<div><img alt="learn_task" class="align-middle" src="../_images/learn_task5.png" style="width: 40em;" /></div></blockquote>
<div class="section" id="classification-example">
<h2>Classification example<a class="headerlink" href="#classification-example" title="Permalink to this headline">¶</a></h2>
<p>In the following example we define a classification task for the data
set BreastCancer (from the package mlbench) and exclude the ID
variable from all further model fitting and evaluation.</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> library<span class="p">(</span><span class="s">&quot;mlr&quot;</span><span class="p">)</span>
<span class="o">&gt;</span> library<span class="p">(</span><span class="s">&quot;mlbench&quot;</span><span class="p">)</span>
<span class="o">&gt;</span> data<span class="p">(</span>BreastCancer<span class="p">)</span>
<span class="o">&gt;</span> ct <span class="o">&lt;-</span> makeClassifTask<span class="p">(</span>data <span class="o">=</span> BreastCancer<span class="p">,</span> target <span class="o">=</span> <span class="s">&quot;Class&quot;</span><span class="p">,</span>
<span class="o">+</span>     exclude <span class="o">=</span> <span class="s">&quot;Id&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now let us examine the created task:</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> ct
Classification problem BreastCancer
Features:
  numerics   integers    factors characters   logicals
         <span class="m">0</span>          <span class="m">0</span>          <span class="m">9</span>          <span class="m">0</span>          <span class="m">0</span>
Observations: <span class="m">699</span>
Missings: <span class="kc">TRUE</span>
in <span class="m">16</span> observations and <span class="m">1</span> features
Infinites: <span class="kc">FALSE</span>
Target: Class
Classes: <span class="m">2</span>
   benign malignant
      <span class="m">458</span>       <span class="m">241</span>
Positive class: benign
Has weights: <span class="kc">FALSE</span>
Has blocking: <span class="kc">FALSE</span>
</pre></div>
</div>
<p>he now defined task contains basic information about the data,
e.g. the types of features, the number of observations and the number
of missing values, as well as the classification problem, e.g. the
name of the target variable and the number of observations per class.</p>
<p>As this is a binary problem, we see that a positive class is selected
by default. This will generally be the first class in the factor
levels of the target. You probably want to select this manually for
your applications.</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> ct <span class="o">&lt;-</span> makeClassifTask<span class="p">(</span>data <span class="o">=</span> BreastCancer<span class="p">,</span> target <span class="o">=</span> <span class="s">&quot;Class&quot;</span><span class="p">,</span>
<span class="o">+</span>     exclude <span class="o">=</span> <span class="s">&quot;Id&quot;</span><span class="p">,</span> positive <span class="o">=</span> <span class="s">&quot;malignant&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>There are some convenience methods to access properties of the data
set and the classification problem. Look at the documentation of the
<a class="reference external" href="/_static/rdocs/mlr/LearnTask-class.html">LearnTask</a> class &lt;a and its subclasses <a class="reference external" href="/_static/rdocs/mlr/ClassifTask-class.html">ClassifTask</a> and <a class="reference external" href="/_static/rdocs/mlr/RegrTask-class.html">RegrTask</a>, if
you are interested in what kind of those &#8220;getter&#8221;-functions are
available. Here are some examples:</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> getFeatureNames<span class="p">(</span>ct<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;Cl.thickness&quot;</span>    <span class="s">&quot;Cell.size&quot;</span>       <span class="s">&quot;Cell.shape&quot;</span>      <span class="s">&quot;Marg.adhesion&quot;</span>
<span class="p">[</span><span class="m">5</span><span class="p">]</span> <span class="s">&quot;Epith.c.size&quot;</span>    <span class="s">&quot;Bare.nuclei&quot;</span>     <span class="s">&quot;Bl.cromatin&quot;</span>     <span class="s">&quot;Normal.nucleoli&quot;</span>
<span class="p">[</span><span class="m">9</span><span class="p">]</span> <span class="s">&quot;Mitoses&quot;</span>
<span class="o">&gt;</span> head<span class="p">(</span>getTargets<span class="p">(</span>ct<span class="p">))</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> benign    benign    benign    benign    benign    malignant
Levels: benign malignant
<span class="o">&gt;</span> getClassLevels<span class="p">(</span>ct<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;benign&quot;</span>    <span class="s">&quot;malignant&quot;</span>
</pre></div>
</div>
<p>All information can be obtained from the slots of the <a class="reference external" href="/_static/rdocs/mlr/LearnTask-class.html">LearnTask</a>
object directly.</p>
<p>The main part of the information is stored in the slot called desc,
which stands for description. <cite>ct&#64;desc</cite> is an object of class <a class="reference external" href="/_static/rdocs/mlr/TaskDesc-class.html">TaskDesc</a>.</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> ct<span class="p">@</span>desc
task.desc
<span class="o">&gt;</span> str<span class="p">(</span>ct<span class="p">@</span>desc<span class="p">)</span>
Formal class <span class="s">&#39;task.desc&#39;</span> <span class="p">[</span>package <span class="s">&quot;mlr&quot;</span><span class="p">]</span> with <span class="m">11</span> slots
  <span class="m">..</span><span class="p">@</span> type        : chr <span class="s">&quot;classif&quot;</span>
  <span class="m">..</span><span class="p">@</span> id          : chr <span class="s">&quot;BreastCancer&quot;</span>
  <span class="m">..</span><span class="p">@</span> target      : chr <span class="s">&quot;Class&quot;</span>
  <span class="m">..</span><span class="p">@</span> size        : int <span class="m">699</span>
  <span class="m">..</span><span class="p">@</span> n.feat      : Named int <span class="p">[</span><span class="m">1</span>:<span class="m">5</span><span class="p">]</span> <span class="m">0</span> <span class="m">0</span> <span class="m">9</span> <span class="m">0</span> <span class="m">0</span>
  <span class="m">..</span> <span class="m">..</span><span class="o">-</span> attr<span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;names&quot;</span><span class="p">)</span><span class="o">=</span> chr <span class="p">[</span><span class="m">1</span>:<span class="m">5</span><span class="p">]</span> <span class="s">&quot;numerics&quot;</span> <span class="s">&quot;integers&quot;</span> <span class="s">&quot;factors&quot;</span> <span class="s">&quot;characters&quot;</span> <span class="m">...</span>
  <span class="m">..</span><span class="p">@</span> class.dist  : Named int <span class="p">[</span><span class="m">1</span>:<span class="m">2</span><span class="p">]</span> <span class="m">458</span> <span class="m">241</span>
  <span class="m">..</span> <span class="m">..</span><span class="o">-</span> attr<span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;names&quot;</span><span class="p">)</span><span class="o">=</span> chr <span class="p">[</span><span class="m">1</span>:<span class="m">2</span><span class="p">]</span> <span class="s">&quot;benign&quot;</span> <span class="s">&quot;malignant&quot;</span>
  <span class="m">..</span><span class="p">@</span> has.missing : logi <span class="kc">TRUE</span>
  <span class="m">..</span><span class="p">@</span> has.inf     : logi <span class="kc">FALSE</span>
  <span class="m">..</span><span class="p">@</span> has.weights : logi <span class="kc">FALSE</span>
  <span class="m">..</span><span class="p">@</span> has.blocking: logi <span class="kc">FALSE</span>
  <span class="m">..</span><span class="p">@</span> positive    : chr <span class="s">&quot;malignant&quot;</span>
<span class="o">&gt;</span> ct<span class="p">@</span>desc<span class="p">@</span>type
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;classif&quot;</span>
<span class="o">&gt;</span> ct<span class="p">@</span>desc<span class="p">@</span>size
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">699</span>
</pre></div>
</div>
<p>Optionally we can include further information like observation weights
or a blocking factor into the task.  Via the blocking argument you can
specify if some observations &#8220;belong together&#8221;.  Specifically, they
are either put all in the training or the test set during a resampling
iteration. The blocking argument is a factor of the same length as
the number of observations in the data set where observations with the
same factor level belong to the same block.</p>
<p>Include observation weights in order to upweight class &#8220;malignant&#8221;
with factor 3:</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> w <span class="o">&lt;-</span> c<span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">)[</span>BreastCancer<span class="p">$</span>Class<span class="p">]</span>
<span class="o">&gt;</span> ct <span class="o">&lt;-</span> makeClassifTask<span class="p">(</span>data <span class="o">=</span> BreastCancer<span class="p">,</span> target <span class="o">=</span> <span class="s">&quot;Class&quot;</span><span class="p">,</span>
<span class="o">+</span>     exclude <span class="o">=</span> <span class="s">&quot;Id&quot;</span><span class="p">,</span> positive <span class="o">=</span> <span class="s">&quot;malignant&quot;</span><span class="p">,</span> weights <span class="o">=</span> w<span class="p">)</span>
<span class="o">&gt;</span> head<span class="p">(</span>ct<span class="p">@</span>weights<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">3</span>
</pre></div>
</div>
<p>Now lets include a (nonsensical) blocking structure:</p>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> blocking <span class="o">&lt;-</span> factor<span class="p">(</span>rep<span class="p">(</span><span class="m">1</span>:<span class="m">3</span><span class="p">,</span> nrow<span class="p">(</span>BreastCancer<span class="p">)</span><span class="o">/</span><span class="m">3</span><span class="p">))</span>
<span class="o">&gt;</span> ct <span class="o">&lt;-</span> makeClassifTask<span class="p">(</span>data <span class="o">=</span> BreastCancer<span class="p">,</span> target <span class="o">=</span> <span class="s">&quot;Class&quot;</span><span class="p">,</span>
<span class="o">+</span>     exclude <span class="o">=</span> <span class="s">&quot;Id&quot;</span><span class="p">,</span> blocking <span class="o">=</span> blocking<span class="p">)</span>
<span class="o">&gt;</span> head<span class="p">(</span>ct<span class="p">@</span>blocking<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
Levels: <span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
<span class="o">&gt;</span> table<span class="p">(</span>ct<span class="p">@</span>blocking<span class="p">)</span>
  <span class="m">1</span>   <span class="m">2</span>   <span class="m">3</span>
<span class="m">233</span> <span class="m">233</span> <span class="m">233</span>
</pre></div>
</div>
<p>From this classification task we can now train various models, which
will be covered in the section &lt;a href=&#8221;train.html&#8221;&gt;Training &lt;/a&gt;.
Before that, let&#8217;s look at a regression experiment.</p>
</div>
<div class="section" id="regression-example">
<h2>Regression example<a class="headerlink" href="#regression-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-r"><div class="highlight"><pre><span class="o">&gt;</span> library<span class="p">(</span>mlbench<span class="p">)</span>
<span class="o">&gt;</span> data<span class="p">(</span>BostonHousing<span class="p">)</span>
<span class="o">&gt;</span> rt <span class="o">&lt;-</span> makeRegrTask<span class="p">(</span>data <span class="o">=</span> BostonHousing<span class="p">,</span> target <span class="o">=</span> <span class="s">&quot;medv&quot;</span><span class="p">)</span>
<span class="o">&gt;</span> rt
Regression problem BostonHousing
Features:
  numerics   integers    factors characters   logicals
        <span class="m">12</span>          <span class="m">0</span>          <span class="m">1</span>          <span class="m">0</span>          <span class="m">0</span>
Observations: <span class="m">506</span>
Missings: <span class="kc">FALSE</span>
Infinites: <span class="kc">FALSE</span>
Target: medv
Has weights: <span class="kc">FALSE</span>
Has blocking: <span class="kc">FALSE</span>
<span class="o">&gt;</span> getFeatureNames<span class="p">(</span>rt<span class="p">)</span>
 <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;crim&quot;</span>    <span class="s">&quot;zn&quot;</span>      <span class="s">&quot;indus&quot;</span>   <span class="s">&quot;chas&quot;</span>    <span class="s">&quot;nox&quot;</span>     <span class="s">&quot;rm&quot;</span>      <span class="s">&quot;age&quot;</span>
 <span class="p">[</span><span class="m">8</span><span class="p">]</span> <span class="s">&quot;dis&quot;</span>     <span class="s">&quot;rad&quot;</span>     <span class="s">&quot;tax&quot;</span>     <span class="s">&quot;ptratio&quot;</span> <span class="s">&quot;b&quot;</span>       <span class="s">&quot;lstat&quot;</span>
<span class="o">&gt;</span> head<span class="p">(</span>getTargets<span class="p">(</span>rt<span class="p">))</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">24.0</span> <span class="m">21.6</span> <span class="m">34.7</span> <span class="m">33.4</span> <span class="m">36.2</span> <span class="m">28.7</span>
<span class="o">&gt;</span> rt<span class="p">@</span>desc<span class="p">@</span>target
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;medv&quot;</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
<h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Concepts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classification-example">Classification example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#regression-example">Regression example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="learner.html">Learners</a></li>
<li class="toctree-l2"><a class="reference internal" href="measure.html">Performance Measures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">How-Tos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrated_learners.html">Integrated Learners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../literature.html">Relevant Literature</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="index.html" title="Concepts"
             >previous</a> |
          <a href="learner.html" title="Learners"
             >next</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2010-2011, Bernd Bischl et.al..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>