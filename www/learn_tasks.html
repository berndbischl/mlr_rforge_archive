<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
	<title>Learning tasks</title>
	<link rel="stylesheet" type="text/css" href="formats.css">
	<style type="text/css">
	</style>
</head>

<body>

<h1>Learning task</h1>

<p>Learning tasks are the basic element of the package to encapsulate the data set and all relevant information 
regarding the purpose of the task. This will be at least the target variable, but might also be information about 
excluded (ID) variables, misclassification costs or case weights.</p>

<p>Currently two subclasses of a <a href="rdocs/learn.task-class.html">learn.task</a> exist, classif.task for classification problems and regr.task for 
regression.
Both are created by using the <a href="rdocs/make.task.html">make.task</a> factory method, and the type of the task is decided automatically by 
looking at the target variable.
If this is encoded as an integer, you have to change it either to a factor/character for classification or a numerical for regression.</p>

<p><img src="pics/learn_task.png" width="25%"  border="1" alt=""></p>



<h3>Classification example</h3>

<p>In the following example we define a classification task for the data set BreastCancer 
(from the package mlbench) and exclude the ID variable from all further model fitting and evaluation.</p>

<pre>
	library(mlbench); data(BreastCancer)
	ct <- make.task(data = BreastCancer, target = "Class", excluded = "Id")
</pre>

<p> The now defined task also gives you some convenience methods to access properties of the data set:</p>

<pre>
	<com># before we start, let's examine ct</com>
	<com># print useful info about the data set</com>
	ct
	<res>
	Classification problem BreastCancer
	Features Nums:0 Ints:0 Factors:9 Chars:0
	Observations: 699
	Missings: TRUE
	in 16 observations and 1 features
	Classes:2
	   benign malignant 
	      458       241 
	Positive class: benign 
	</res>	
	
	<com># as this is a binary problem, we see that a positive class is selected by default</com>
	<com># this will generally be the first class in the factor levels of the target</com>
	<com># you probably want to select this manually for your applications</com>
	ct <- make.task(data = BreastCancer, target = "Class", excluded = "Id", positive="benign")
	
	<com># access more information </com>
	<com># get target name and the names of the input variables - same for regression</com>
	ct["target.name"]
	ct["input.names"]

	<com># get target values for all / some observations  - same for regression </com>
	ct["targets"]
	ct["targets", row=1:5]

	<com># get all possible classes</com>		 
	ct["class.levels"]
</pre>


<p> Look at the documentation of the relevant class, if you are interested in what kind of "getter"-functions 
are available, e.g. for the <a href="rdocs/learn.task-class.html">task</a>.

<p> We can include further information like costs or weights optionally:

<pre>
	<com> # non-default costs for wrong predictions: </com>
	costs <- matrix (c(0, 1, 2, 0), 2, 2)
	colnames(costs) <- rownames(costs) <- ct["class.levels"]
	costs
	<res>
	          benign malignant
	benign         0         2
	malignant      1         0
	</res>

	ct <- make.task(data = BreastCancer , target = "Class", excluded="Id", costs = costs)
	
	<com> # (nonsensical) weights for the observations </com>
	ct <- make.task(data = BreastCancer, target = "Class", excluded="Id", weights = 1:699)
</pre>


<p>From this classification task we can now train various models, which will be covered in the 
section <a href="train.html">Training </a>. 
Before that, let's look at a regression experiment:</p>


<h3>Regression example</h3>


<pre>
	<com># We will generally take the BostonHousing data set as regression example</com>
	library(mlbench); data(BostonHousing)

	rt <- make.task(data = BostonHousing, target = "medv")

	<res>
	Regression problem BostonHousing
	Features Nums:12 Ints:0 Factors:1 Chars:0
	Observations: 506
	Missings: FALSE
	</res>	
	
	<com># rest works analogous to classification task</com>
</pre>


</body>
</html>
